## Rules

All rules managed by Caster are tracked in this config file `rules.toml `located in located in `AppData\Local\caster\settings`. This configuration file allows you not only to see what rules are active but change with the whitelist which rules are loaded by Caster during startup.

Rules can exist in different states:

- `Loaded ` During startup Caster loads all available rules on startup into the speech recognition engine. If a rule is not loaded it cannot be `enabled`/`disabled` and the rules commands commands cannot be recognized. 

- `Active`/`Inactive ` rule state denotes whether or not a rule is available for recognition.
  For instance if you say `disable Firefox` the Firefox rule will become  `Inactive `. When Firefox application is launched the commands will not be available for recognition until Firefox rule is set to `active`  with the `enable Firefox` command. 

### Enabled Ordered

Enabled ordered represents all  `active` rules. When you `enable` the rule its class name is added to the `_enabled_ordered` list. When the grammar is `disabled`  It is removed from the list. It's a great way to see what rules are currently available. Note: This list should not be modified by manually.

### Internal Rules

A handful of rules get special treatment as represented by the list in `_internal` by the `Grammar Manager`. These "internal" rules are the rules which are generated by/for Caster loaded content. They do not belong in the set of rules which can be reloaded. You *can* turn them off but it is strongly discouraged as they are required for Caster to function.

### White List

The number of Caster rules has grown immensely in the past few years, which is great, but means that the initial load time has grown as well. In order to reduce boot time, new configuration has been added to  allow the user to control which rules get `loaded`. Most users won't be  using the majority of the total available rules, so it doesn't make  sense to encumber most users with most of the rules.

New users will be provided a core set of rules to get started with and then expected to manage which rules load for them via the `[whitelisted]` Rules that are whitelisted defined as true load when Caster starts. However if a rule set to false it is not loaded and therefore cannot be enabled or disabled.

- All rules loaded by Caster including from `AppData\Local\caster\Rules` (user made) and `Documents\Caster\castervoice\Rules` (Caster Starter Rules) will automatically be added to `[whitelisted]` as `true` during startup when the rule is first detected.
- Speech recognition engine must restarted for changes in `[whitelisted]` to take effect.

The following `rules.toml `Is a mock representative of the default settings. `_enabled_ordered` shows the default enabled grammars when Caster first starts. Defaults may vary by Caster version and engine.

```toml
_enabled_ordered = ["Alphabet", "Navigation", "NavigationNon", "Numbers", "Punctuation", "CasterRule", "HardwareRule", "MouseAlternativesRule", "WindowManagementRule", "LegionGridRule", "DouglasGridRule", "RainbowGridRule", "SudokuGridRule", "HMCRule", "HMCConfirmRule", "HMCDirectoryRule", "HMCHistoryRule", "HMCLaunchRule", "HMCSettingsRule", "HistoryRule", "ChainAlias", "Alias", "DragonRule", "BringRule", "Again", "GrammarActivatorRule", "HooksActivationRule"]
_internal = ["GrammarActivatorRule", "HooksActivationRule", "TransformersActivationRule", "ManualGrammarReloadRule"]

[whitelisted]
AcrobatRule = true
Again = true
Alias = true
Alphabet = true
AtomRule = true
Bash = true
BringRule = true
CPP = true
CSSTreeRule = true
CSharp = true
CasterRule = true
ChainAlias = true
ChromeRule = true
Dart = true
Python = true
PythonNon = true
VSCodeNonCcrRule = true
VisualStudioRule = true

# Truncated created for brevity

```